!function(){this.twrFileInput=function(e,t){let l={showFileList:!0,showImgPreview:!0,iconClass:null,imgPreviewClass:""};function i(e){let t=e.currentTarget.settings,l=this.closest(".twr-file"),i=l.querySelector("label"),s=l.querySelector(".twr-file-clear");var n=l.querySelector(".twr-file-details"),r=l.querySelector(".twr-file-list"),a=l.querySelector("img"),d=l.querySelector(".twr-img-preview-container"),c=this.files;let o="";if(null!==t.iconClass&&t.iconClass.length>0&&(o='<span class="'+t.iconClass+'"></span>'),1===c.length){var u=c[0];i.innerHTML=o+u.name,r.classList.add("hidden"),null!==s&&(s.disabled=!1),u.type.match("image.*")&&t.showImgPreview?(n.classList.remove("hidden"),d.classList.remove("hidden"),function(e,t){var l=new FileReader;l.onload=function(e){t.src=l.result},l.readAsDataURL(e)}(u,a)):(n.classList.add("hidden"),a.src="")}else if(c.length>1)if(a.src="",i.innerHTML=o+c.length+" Files Selected",null!==s&&(s.disabled=!1),t.showFileList){r.innerHTML="";for(let e=0;e<c.length;e++){let t=document.createElement("li");t.innerText=c[e].name,r.appendChild(t)}n.classList.remove("hidden"),r.classList.remove("hidden"),d.classList.add("hidden")}else n.classList.add("hidden"),r.classList.add("hidden"),d.classList.add("hidden");else a.src="",n.classList.add("hidden"),i.innerHTML=i.dataset.defaultHtml,s.disabled=!0}function s(){let e=this.closest(".twr-file"),t=e.querySelector("label"),l=e.querySelector('input[type="file"]');var i=e.querySelector(".twr-file-details");let s=e.querySelector(".twr-file-clear");var n=e.querySelector(".twr-img-preview-container");l.value="",t.innerHTML=t.dataset.defaultHtml,n.classList.add("hidden"),i.classList.add("hidden"),s.disabled=!0}this.element=e,this.settings=t&&"object"==typeof t?function(e,t){return Object.keys(t).forEach((l=>{t.hasOwnProperty(l)&&(e[l]=t[l])})),e}(l,t):l,this.init=function(){this.element.addEventListener("change",i),this.element.settings=this.settings;let e=this.element.closest(".twr-file");!function(e,t){var l=e.querySelector(".twr-file-details");null===l&&((l=document.createElement("div")).classList.add("twr-file-details"),l.classList.add("hidden"),e.appendChild(l));var i=e.querySelector("img"),s=e.querySelector(".twr-img-preview-container");null==i&&(i=document.createElement("img"),(s=document.createElement("div")).classList.add("twr-img-preview-container"),s.classList.add("hidden"),null!==t&&t.length>0&&i.classList.add(t),s.appendChild(i),l.appendChild(s));var n=e.querySelector(".twr-file-list");null===n&&((n=document.createElement("ul")).classList.add("twr-file-list"),l.appendChild(n))}(e,this.settings.imgPreviewClass);let t=e.querySelector("label");t.dataset.defaultHtml=t.innerHTML;let l=e.querySelector(".twr-file-clear");null!==l&&(l.disabled=!0,l.addEventListener("click",s))},this.init()}}();