!function(e){e.fn.fileInput=function(i){var t=e.extend({fileList:!0,iconClass:null,imgPreview:!0,imgPreviewClass:null},i);function l(i){var l=e(this),a=l.closest(".tower-file"),n=a.find("label"),s=a.find(".tower-file-clear"),d=a.find(".tower-file-list").empty().hide(),r=a.find("img"),f=a.find(".tower-file-details");f.length||(a.append('<div class="tower-file-details"></div>'),f=a.find(".tower-file-details"));var o=l[0].files,h="";if(null!==t.iconClass&&t.iconClass.length>0&&(h='<span class="mdi mdi-upload"></span>'),1===o.length){var c=o[0];n.html(h+c.name),c.type.match("image.*")&&t.imgPreview?(r.length||(f.append('<div class="tower-input-preview-container"><img class="'+t.imgPreviewClass+'" /></div>'),r=a.find("img")),f.show(),function(e,i){var t=new FileReader;t.onload=function(e){i.attr("src",t.result).show()},t.readAsDataURL(e)}(c,r)):(f.hide(),r.attr("src","").hide()),s.attr("disabled",null)}else if(o.length>1){if(r.attr("src","").hide(),t.fileList){d.length||(f.append('<ul class="tower-file-list"></ul>'),d=a.find(".tower-file-list"));for(var u=0;u<o.length;u++)d.append("<li>"+o[u].name+"</li>");f.show(),d.show()}else d.hide();n.html(h+o.length+" Files Selected"),s.attr("disabled",null)}else f.hide(),r.attr("src","").hide(),n.html(n.data("default-text")),s.attr("disabled","")}function a(){var i=e(this).closest(".tower-file");i.find('input[type="file"]').val("");var t=i.find("label");t.html(t.data("default-text")),i.find(".tower-file-clear").attr("disabled",""),i.find(".tower-file-details").hide()}this.filter('input[type="file"]').each(function(){var i=e(this).closest(".tower-file"),t=i.find("label");t.length&&t.attr("data-default-text",t.html().trim());var n=i.find(".tower-file-clear");n.length&&(n.attr("disabled",""),n.on("click",a)),e(this).on("change",l)})}}(jQuery);